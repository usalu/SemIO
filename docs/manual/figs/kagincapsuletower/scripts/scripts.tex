\documentclass[tikz]{standalone}
% \documentclass[tikz]{article}

\input{../kagincapsuletower.tex}

\newcommand{\kaginSchemeFloorsParameterIcon}{\emoji{🎚️}}
\newcommand{\kaginSchemeFloorsDifferenceParameterIcon}{\pm}
\newcommand{\kaginSchemeFloorsBridgesParameterIcon}{≡}

\newcommand{\baseDefinitionParcelParameterIcon}{\emoji{↪️}}
\newcommand{\baseDefinitionHeightParameterIcon}{\emoji{↕️}}
\newcommand{\baseDefinitionFloorHeightParameterIcon}{\emoji{🔼}}
\newcommand{\baseDefinitionCorePrimaryLengthParameterIcon}{\emoji{⬅️}}
\newcommand{\baseDefinitionCoreSecondaryLengthParameterIcon}{\emoji{➡️}}

\newcommand{\baseDefinitionCorePrimaryPortIcon}{\emoji{🅰️}}
\newcommand{\baseDefinitionCoreSecondaryPortIcon}{\emoji{🅱️}}

\newcommand{\shaftDefinitionLengthParameterIcon}{\emoji{📏}}
\newcommand{\shaftDefinitionWidthParameterIcon}{\emoji{↔️}}
\newcommand{\shaftDefinitionHeightParameterIcon}{\emoji{↕️}}
\newcommand{\shaftDefinitionFloorsParameterIcon}{\emoji{🎚️}}
\newcommand{\shaftDefinitionElevatorSideParameterIcon}{\emoji{🧭}}

\newcommand{\shaftDefinitionSidePortIcon}{\emoji{🏢}}
\newcommand{\shaftDefinitionDoorNumberPortIcon}{\emoji{🏅}}
\newcommand{\shaftDefinitionDoorFirstPortIcon}{\emoji{🥇}}
\newcommand{\shaftDefinitionDoorSecondPortIcon}{\emoji{🥇}}
\newcommand{\shaftDefinitionTopPortIcon}{\emoji{⬆️}}
\newcommand{\shaftDefinitionDownPortIcon}{\emoji{⬇️}}


\newcommand{\sDWOODPI}{\emoji{⬅️}1\emoji{🥇}\emoji{🚪}}

\newcommand{\bridgeDefinitionLeftLengthParameterIcon}{\emoji{⬅️}}
\newcommand{\bridgeDefinitionRightLengthParameterIcon}{\emoji{➡️}}
% \newcommand{\bridgeDefinitionAdditionLengthParameterIcon}{\emoji{➕}}
\newcommand{\bridgeDefinitionWidthParameterIcon}{\emoji{↔️}}
\newcommand{\bridgeDefinitionHeightParameterIcon}{\emoji{↕️}}
\newcommand{\bridgeDefinitionToleranceParameterIcon}{\emoji{🤏}}

\newcommand{\bridgeDefinitionRightPortIcon}{\emoji{➡️}}
\newcommand{\bridgeDefinitionLeftPortIcon}{\emoji{⬅️}}

\newcommand{\capitalDefinitionLengthParameterIcon}{\emoji{📏}}
\newcommand{\capitalDefinitionWidthParameterIcon}{\emoji{↔️}}
\newcommand{\capitalDefinitionHeightParameterIcon}{\emoji{↕️}}
\newcommand{\capitalDefinitionRightHeightParameterIcon}{\emoji{↩️}}
\newcommand{\capitalDefinitionLeftHeightParameterIcon}{\emoji{↪️}}
\newcommand{\capitalDefinitionLowerHeightParameterIcon}{\emoji{⏬}}

\newcommand{\capitalDefinitionDownPortIcon}{\emoji{⬇️}}

\newcommand{\capsuleDefinitionLengthParameterIcon}{\emoji{📏}}
\newcommand{\capsuleDefinitionWidthParameterIcon}{\emoji{↔️}}
\newcommand{\capsuleDefinitionHeightParameterIcon}{\emoji{↕️}}
\newcommand{\capsuleDefinitionDoorParameterIcon}{\emoji{🚪}}
\newcommand{\capsuleDefinitionWindowParameterIcon}{\emoji{🪟}}

\newcommand{\capsuleDefinitionDownPortIcon}{\emoji{🚪}}


\tikzset{
    definitionDrawing/.style={draw,dotted},
    definitionDrawingHidden/.style={draw,densely dotted},
    % Somehow doesn't do anything: label distance=0
    definitionDrawingAnnotation/.style={semioturquoise,|<->|,font=\tiny,minimum size=0,inner sep=1pt},
    definitionDrawingPort/.style={semiopink,font=\tiny,minimum size=0,inner sep=0pt},
    definitionDrawingPortAxis/.style={semiopink,->,minimum size=0,inner sep=1pt},
    definitionDrawingPortAxisText/.style={semiopink,font=\tiny}
}


\tikzset{
  bD/.pic={
    \begin{definition}{\baseDefinitionIcon}
      \input{definitions/base.tikz.tex}
    \end{definition}},
  sD/.pic={
    \begin{definition}{\shaftDefinitionIcon}
      \input{definitions/shaft.tikz.tex}
    \end{definition}},
  brD/.pic={
    \begin{definition}{\bridgeDefinitionIcon}
      \input{definitions/bridge.tikz.tex}
    \end{definition}},
  cpD/.pic={
    \begin{definition}{\capitalDefinitionIcon}
      \input{definitions/capital.tikz.tex}
    \end{definition}},
  cD/.pic={
    \begin{definition}{\capsuleDefinitionIcon}
      \input{definitions/capsule.tikz.tex}
    \end{definition}},
  mOM/.pic={
    \begin{transformationSide}
      \input{mods/mirrororiginal.tikz.tex}
    \end{transformationSide}},
  mMM/.pic={
      \begin{transformationSide}
        \input{mods/mirroryz.tikz.tex}
      \end{transformationSide}},
  tTR/.pic={
    \begin{transformationSide}
      \input{trfs/towerr.tikz.tex}
    \end{transformationSide}},
  tTL/.pic={
    \begin{transformationSide}
      \input{trfs/towerl.tikz.tex}
    \end{transformationSide}},
  sTR/.pic={
    \begin{transformationSide}
      \input{trfs/stackr.tikz.tex}
    \end{transformationSide}},
  sTL/.pic={
    \begin{transformationSide}
      \input{trfs/stackl.tikz.tex}
    \end{transformationSide}},
  bTR/.pic={
    \begin{transformationSide}
      \input{trfs/bridger.tikz.tex}
    \end{transformationSide}},
  bTL/.pic={
    \begin{transformationSide}
      \input{trfs/bridgel.tikz.tex}
    \end{transformationSide}}}



\begin{document}

\begin{tikzpicture}
  \begin{boundingBox}{mods}{MODIFICATIONS}{semioGeneralTerm}{0}{0}{}
    \begin{boundingBox}{modsm}{$\memoji{🪞}(\memoji{✈️})$}{semioSpecificTerm}{0}{0}{}
      \sModification{m}{\emoji{↕️}}{0}{0}{2.8}{0}
    \end{boundingBox}
  \end{boundingBox}
  \begin{boundingBox}{smes}{SCHEMES}{semioGeneralTerm}{1.5cm}{-3cm}{}
    \begin{boundingBox}{smesKS}
      {$\memoji{\kaginSchemeIcon}
        (\memoji{\kaginSchemeFloorsParameterIcon},
        \kaginSchemeFloorsDifferenceParameterIcon,
        \kaginSchemeFloorsBridgesParameterIcon
        )$}{semioSpecificTerm}{0}{0}{}
      \node [align=left] (kS)
          {$\text{\tiny{1}\sTabs{1}}\memoji{\towerSchemeIcon}(A,\memoji{🎚️}+\pm,\memoji{➡️})$\\
          $\text{\tiny{2}\sTabs{1}}\memoji{\towerSchemeIcon}(B,\memoji{🎚️}-\pm,\memoji{⬅️})$\\
          $\text{\tiny{3}\sTabs{1}}$foreach ─ in \kaginSchemeFloorsBridgesParameterIcon:\\
          $\text{\tiny{4}\sTabs{3}}\memoji{\bridgeRuleIcon}($A$,$B$,─)$};
    \end{boundingBox}
    \begin{boundingBox}{tS}
      {$\memoji{\towerSchemeIcon}
        (\memoji{🆔},
        \kaginSchemeFloorsDifferenceParameterIcon,
        \kaginSchemeFloorsBridgesParameterIcon
        )$}{semioSpecificTerm}{0}{0}{}
      \node [align=left,below=\verticalSpacing of smesKSbBT] (tS)
      {$\text{\tiny{1}\sTabs{1}}\memoji{\towerRuleIcon}(\memoji{🆔},\memoji{🎚️},\memoji{🧭})$\\
      $\text{\tiny{2}\sTabs{1}}\memoji{\sideSchemeIcon}(\memoji{🆔},\memoji{⬆️},\memoji{👆})$\\
      $\text{\tiny{3}\sTabs{1}}\memoji{\sideSchemeIcon}(\memoji{🆔},\memoji{➡️},\memoji{👉})$\\
      $\text{\tiny{4}\sTabs{1}}\memoji{\sideSchemeIcon}(\memoji{🆔},\memoji{⬇️},\memoji{👇})$\\
      $\text{\tiny{5}\sTabs{1}}\memoji{\sideSchemeIcon}(\memoji{🆔},\memoji{⬅️},\memoji{👈})$};
    \end{boundingBox}
    \node [align=left,below=\verticalSpacing of tS] (sS)
      {$\text{\tiny{1}\sTabs{1}}\memoji{\stackRuleIcon}(\memoji{🆔},\memoji{🏢},\memoji{🥇},\memoji{\sPrototype}[0])$\\
      $\text{\tiny{2}\sTabs{1}}\memoji{\stackRuleIcon}(\memoji{🆔},\memoji{🏢},\memoji{🥈},\memoji{\sPrototype}[1])$};
    \node [semioGeneralTerm,fit=(kS)(tS)(sS)] (SbB){};
  \end{boundingBox}
\end{tikzpicture}

% \begin{tikzpicture}
%   \node [semioSpecificTerm,align=left] (kS)
%     {$\text{\tiny{1}\sTabs{1}}\memoji{\towerSchemeIcon}(A,\memoji{🎚️}+\pm,\memoji{➡️})$\\
%     $\text{\tiny{2}\sTabs{1}}\memoji{\towerSchemeIcon}(B,\memoji{🎚️}-\pm,\memoji{⬅️})$\\
%     $\text{\tiny{3}\sTabs{1}}$foreach ─ in ≡:\\
%     $\text{\tiny{4}\sTabs{3}}\memoji{\bridgeRuleIcon}($A$,$B$,─)$};
%   \node [semioSpecificTerm,align=left,below=\verticalSpacing of kS] (tS)
%     {$\text{\tiny{1}\sTabs{1}}\memoji{\towerRuleIcon}(\memoji{🆔},\memoji{🎚️},\memoji{🧭})$\\
%     $\text{\tiny{2}\sTabs{1}}\memoji{\sideSchemeIcon}(\memoji{🆔},\memoji{⬆️},\memoji{👆})$\\
%     $\text{\tiny{3}\sTabs{1}}\memoji{\sideSchemeIcon}(\memoji{🆔},\memoji{➡️},\memoji{👉})$\\
%     $\text{\tiny{4}\sTabs{1}}\memoji{\sideSchemeIcon}(\memoji{🆔},\memoji{⬇️},\memoji{👇})$\\
%     $\text{\tiny{5}\sTabs{1}}\memoji{\sideSchemeIcon}(\memoji{🆔},\memoji{⬅️},\memoji{👈})$};
%   \node [semioSpecificTerm,align=left,below=\verticalSpacing of tS] (sS)
%     {$\text{\tiny{1}\sTabs{1}}\memoji{\stackRuleIcon}(\memoji{🆔},\memoji{🏢},\memoji{🥇},\memoji{\sPrototype}[0])$\\
%     $\text{\tiny{2}\sTabs{1}}\memoji{\stackRuleIcon}(\memoji{🆔},\memoji{🏢},\memoji{🥈},\memoji{\sPrototype}[1])$};
%   \node [semioGeneralTerm,fit=(kS)(tS)(sS)] (SbB){};
% \end{tikzpicture}


% \begin{tikzpicture}
%   \begin{scope}[local bounding box/.expanded=tlbB]
%     \sTransformation{tT}{\towerRuleIcon}{0.3}{-0.8}{1.6}{-1.54}
%     \sTransformation{bT}{\bridgeRuleIcon}{2.5}{-3.8}{7.8}{-3.8}
%     \sTransformation{sT}{\stackRuleIcon}{4.3}{-0.95}{6.2}{-0.65}
%   \end{scope}
%   \node [semioGeneralTerm,fit=(tlbB)] (tbB) {};
% \end{tikzpicture}

% \begin{tikzpicture}[rounded corners]
%   \begin{scope}[local bounding box/.expanded=dBB]
%     % \pic [scale=0.975] (sD) at (0,-15.6)  {sD};
%     % \pic [scale=0.95] (cpD) at (4.9,-7)  {cpD};
%     % \pic (cD) at (4.9,-11.55)  {cD};
%     % \pic (brD) at (4.9,-15.7)  {brD};
%     % \pic (bD) at (0,-21.25)  {bD};
%     \pic (sD) at (0,-7.5)  {sD};
%     \pic (cpD) at (2.5,-3.5)  {cpD};
%     \pic (cD) at (2.5,-5.75)  {cD};
%     \pic (brD) at (2.5,-7.5)  {brD};
%     \pic (bD) at (0,-10.5)  {bD};
%   \end{scope}

%   \node [semioTerm,fit=(dBB)] (bB) {};
% \end{tikzpicture}

\end{document}