@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix ms: <http://github.com/usalu/semio/raw/main/src/schema/linkeddata/metasemio.ttl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix se: <http://github.com/usalu/semio/raw/main/src/schema/linkeddata/semio.ttl#> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
<http://github.com/usalu/semio/raw/main/src/schema/linkeddata/semio.ttl>
  rdf:type owl:Ontology ;
  owl:versionInfo "The semio ontology is the schema for the application file format of semio.\nYou can find out more about semio on: http://github.com/usalu/semio" ;
  ms:version "{{ .Version }}"
.{{ range $i, $p := .Packages }}{{ range .Classes }}
se:{{ .Characterization.Name }}
  rdf:type rdfs:Class ;
  rdfs:subClassOf {{if .Parent}}se:{{.Parent}}{{else}}rdfs:Resource{{end}} ;
  rdf:type sh:NodeShape ;
  rdfs:label "{{ .Characterization.Name }}" ;
  rdfs:comment "{{ .Characterization.Summary }}" ;
  ms:abbreviation "{{ .Characterization.Abbreviation }}" ;
  ms:logogram "{{ .Characterization.Logogram }}" ;
  ms:symbol "{{ .Characterization.Symbol }}" ;
  ms:package se:{{ $p.Characterization.Name}} ;{{ range $i, $pr := .Properties }}
  sh:property [
    sh:path se:{{ LowercaseFirstLetter .Characterization.Name }} ;{{ if eq .Type "String" }}
    sh:datatype xsd:string ;{{ else }}
    sh:class se:{{ .Type }} ;{{ end }}{{ if eq .Cardinality "+" }}
    sh:minCount 1 ;{{ else if eq .Cardinality "?" }}
    sh:maxCount 1 ;{{ else if eq .Cardinality "1"}}
    sh:minCount 1 ;
    sh:maxCount 1 ;{{ end }}
    sh:order {{ $i }} ;
  ]{{ end }}
.{{ end }}{{ end }}