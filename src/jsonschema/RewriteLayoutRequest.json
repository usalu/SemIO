{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "$ref": "#/definitions/RewriteLayoutRequest",
    "definitions": {
        "RewriteLayoutRequest": {
            "properties": {
                "decisions": {
                    "items": {
                        "$ref": "#/definitions/semio.model.v1.Decision"
                    },
                    "type": "array"
                },
                "initial_layout": {
                    "$ref": "#/definitions/semio.model.v1.Layout",
                    "additionalProperties": true,
                    "description": "An optional initial layout that is used a starting layout to apply the decisions"
                }
            },
            "additionalProperties": true,
            "type": "object",
            "title": "Rewrite Layout Request",
            "description": "A rewrite layout request is a description for layout (graph) rewrites."
        },
        "semio.model.v1.Attraction": {
            "properties": {
                "id": {
                    "type": "string",
                    "description": "Id that allows to distinguish it from other attractions."
                },
                "attractor": {
                    "$ref": "#/definitions/semio.model.v1.AttractionParticipant",
                    "additionalProperties": true,
                    "description": "The attractor is expected to be the fixed sobject."
                },
                "attracted": {
                    "$ref": "#/definitions/semio.model.v1.AttractionParticipant",
                    "additionalProperties": true,
                    "description": "The attracted is expected to be the flexible sobject that adjusts its point of view."
                }
            },
            "additionalProperties": true,
            "type": "object",
            "title": "Attraction",
            "description": "An attraction can be used to attract an attracted attraction participant to an attractor attraction participant."
        },
        "semio.model.v1.AttractionParticipant": {
            "properties": {
                "participant_id": {
                    "type": "string",
                    "description": "Id of participating sobject."
                },
                "pose": {
                    "$ref": "#/definitions/semio.model.v1.Pose",
                    "additionalProperties": true,
                    "description": "The (rough) pose of the participating sobject. Note that in the attraction process it will most likely be displaced and adjusted."
                },
                "representationProtocol": {
                    "enum": [
                        "REPRESENTATIONPROTOCOL_NONE",
                        0,
                        "REPRESENTATIONPROTOCOL_SIMPLE",
                        1,
                        "REPRESENTATIONPROTOCOL_FULL",
                        2
                    ],
                    "oneOf": [
                        {
                            "type": "string"
                        },
                        {
                            "type": "integer"
                        }
                    ],
                    "title": "Representation Protocol",
                    "description": "The representation protocol determines what type of representation the attractor will see of the attracted in the attraction process."
                },
                "ports": {
                    "items": {
                        "type": "string"
                    },
                    "type": "array",
                    "description": "Optional port names to connect to. The hierarchy should matter"
                },
                "bias": {
                    "additionalProperties": {
                        "type": "string"
                    },
                    "type": "object",
                    "description": "Optional parameters to bias the attraction."
                }
            },
            "additionalProperties": true,
            "type": "object",
            "title": "Attraction Participant",
            "description": "An attraction participant participates in an attraction process."
        },
        "semio.model.v1.AttractionTree": {
            "properties": {
                "sobject_id": {
                    "type": "string",
                    "description": "The id of the sobject to place."
                },
                "attraction_id": {
                    "type": "string",
                    "description": "An optional id of the attraction that is used to place this sobject. Only relevent when multiple attractions are defined from the same type.\r Roots can't have that field as they have no parent."
                },
                "children": {
                    "items": {
                        "$ref": "#/definitions/semio.model.v1.AttractionTree"
                    },
                    "type": "array"
                }
            },
            "additionalProperties": true,
            "type": "object",
            "title": "Attraction Tree",
            "description": "An attraction tree defines a possibly unambiguous subset of a layout."
        },
        "semio.model.v1.Decision": {
            "properties": {
                "modification": {
                    "$ref": "#/definitions/semio.model.v1.LayoutModification",
                    "additionalProperties": true
                },
                "strategy": {
                    "$ref": "#/definitions/semio.model.v1.LayoutModificationStrategy",
                    "additionalProperties": true
                }
            },
            "additionalProperties": true,
            "type": "object",
            "title": "Decision",
            "description": "A decision is a layout modification with a strategy on how to apply it to a new layout."
        },
        "semio.model.v1.Layout": {
            "properties": {
                "sobjects": {
                    "items": {
                        "$ref": "#/definitions/semio.model.v1.Sobject"
                    },
                    "type": "array",
                    "description": "Sobjects (nodes) that are part of the layout (graph)."
                },
                "attractions": {
                    "items": {
                        "$ref": "#/definitions/semio.model.v1.Attraction"
                    },
                    "type": "array",
                    "description": "Attractions (edges) that are part of the layout (graph)."
                },
                "strategy": {
                    "enum": [
                        "LAYOUTSTRATEGY_BREADTHFIRST",
                        0,
                        "LAYOUTSTRATEGY_DEPTHFIRST",
                        1
                    ],
                    "oneOf": [
                        {
                            "type": "string"
                        },
                        {
                            "type": "integer"
                        }
                    ],
                    "title": "Layout Strategy",
                    "description": "A layout strategy affects in which orders attractions are triggered."
                },
                "attraction_trees": {
                    "items": {
                        "$ref": "#/definitions/semio.model.v1.AttractionTree"
                    },
                    "type": "array",
                    "description": "Optional attraction trees that can possibly unambiguously describe the layout order of sobjects.\r Most of the time this field is only necissary due to elements that don't work well together in a general way.\r Therefore if you can update the element definitions to be more robust, rather use your time for that."
                }
            },
            "additionalProperties": true,
            "type": "object",
            "title": "Layout",
            "description": "A layout (graph) is an assembly plan for a set of sobjects and their attractions between each other."
        },
        "semio.model.v1.LayoutModification": {
            "properties": {
                "context": {
                    "$ref": "#/definitions/semio.model.v1.Layout",
                    "additionalProperties": true
                },
                "modified_context": {
                    "$ref": "#/definitions/semio.model.v1.Layout",
                    "additionalProperties": true
                }
            },
            "additionalProperties": true,
            "type": "object",
            "title": "Layout Modification",
            "description": "A layout modification describes declaratively a layout and the layout after its modification. The rules on how to imperatively change such a layout need to be found by the transformation system."
        },
        "semio.model.v1.LayoutModificationStrategy": {
            "properties": {
                "match_count": {
                    "type": "string",
                    "description": "The match count describes how often a layout modification should be applied. It beeing finite will make sure that the system always terminates. Make sure to set the threshold high enough."
                }
            },
            "additionalProperties": true,
            "type": "object",
            "title": "Layout Modification Strategy",
            "description": "A decision strategy holds information on how modifications are applied."
        },
        "semio.model.v1.Point": {
            "properties": {
                "x": {
                    "type": "number",
                    "description": "x coordinate."
                },
                "y": {
                    "type": "number",
                    "description": "y coordinate"
                },
                "z": {
                    "type": "number",
                    "description": "z coordinate"
                }
            },
            "additionalProperties": true,
            "type": "object",
            "title": "Point",
            "description": "A 3d point with x,y,z coordinates."
        },
        "semio.model.v1.Pose": {
            "properties": {
                "point_of_view": {
                    "$ref": "#/definitions/semio.model.v1.Point",
                    "additionalProperties": true
                },
                "view": {
                    "$ref": "#/definitions/semio.model.v1.Quaternion",
                    "additionalProperties": true
                }
            },
            "additionalProperties": true,
            "type": "object",
            "title": "Pose",
            "description": "A pose is a reference frame with a point of view (origin) and orientation (view)."
        },
        "semio.model.v1.Quaternion": {
            "properties": {
                "w": {
                    "type": "number"
                },
                "x": {
                    "type": "number"
                },
                "y": {
                    "type": "number"
                },
                "z": {
                    "type": "number"
                }
            },
            "additionalProperties": true,
            "type": "object",
            "title": "Quaternion",
            "description": "Quaternions represent (here) (rotational) orientation. It can be interpreted as the view of an element."
        },
        "semio.model.v1.Sobject": {
            "properties": {
                "id": {
                    "type": "string",
                    "description": "Id that allows to distinguish it from other sobjects."
                },
                "url": {
                    "type": "string",
                    "description": "The url of the element definition."
                },
                "parameters": {
                    "additionalProperties": {
                        "type": "string"
                    },
                    "type": "object",
                    "description": "Parameters for the element."
                }
            },
            "additionalProperties": true,
            "type": "object",
            "title": "Sobject",
            "description": "Instance information for an element."
        }
    }
}